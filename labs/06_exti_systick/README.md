## Задание 06 "exti_systick"

В этом задании предлагается подключить энкодер для управления семисегментным индикатором.

## EXTI и кнопка

Прежде чем переходить к энкодеру вам предлагается поработать с модулем EXTI на более простом примере. 
Возьмите за основу пустой проект и добавьте функцию инициализации системы тактирования `rcc_config`,
которую можно взять из прошлых заданий. Далее необходимо вызвать её в `main`.
Также добавьте следующий список заголовочных файлов:

```c
#include "stm32f0xx_ll_rcc.h"
#include "stm32f0xx_ll_system.h"
#include "stm32f0xx_ll_bus.h"
#include "stm32f0xx_ll_gpio.h"
#include "stm32f0xx_ll_exti.h"
#include "stm32f0xx_ll_utils.h"
#include "stm32f0xx_ll_cortex.h"
```

Файл `stm32f0xx_ll_exti.h` необходим для работы с модулем внешних прерываний. Заголовочные файлы `stm32f0xx_ll_utils.h` и `stm32f0xx_ll_cortex.h` нужны для работы с системным таймером. 

Напишите программу, которая будет переключать состояние светодиода при нажатии на кнопку, используя внешнее прерывание. Воспользуйтесь кнопкой, подключенной ко входу `0` порта `GPIOA`. Данная кнопка установлена на отладочной плате с надписью `USER`.

В первую очередь проинициализируйте линию `0` модуля `EXTI`. Для этого необходимо сконфигурировать мультиплексор выбора порта для линии `0` в регистрах `SYSCFG`. Инициализацию выполните в функции `exti_config`:

```c
/*
 * Не забудьте про тактирование!
 */
LL_APB1_GRP2_EnableClock(LL_APB1_GRP2_PERIPH_SYSCFG);
/*
 * Подключение порта GPIOA для линии 0
 */
LL_SYSCFG_SetEXTISource(LL_SYSCFG_EXTI_PORTA, LL_SYSCFG_EXTI_LINE0);
```

Далее включите обработку нулевой линии в модуле `EXTI`:

```c
LL_EXTI_EnableIT_0_31(LL_EXTI_LINE_0);
```

После этого настройке по какому фронту сигнал будет обрабатываться: нарастающему или спадающему, или по обоим. Кнопка имеет
подтягивающий резистор на землю, поэтому при нажатии будет генерировать нарастающий фронт.

```c
LL_EXTI_EnableRisingTrig_0_31(LL_EXTI_LINE_0);
```

Последним шагом сконфигурируйте линию прерывания `EXTI0_1_IRQn` в модуле `NVIC`:

```c
NVIC_EnableIRQ(EXTI0_1_IRQn);
NVIC_SetPriority(EXTI0_1_IRQn, 0);
```

Добавьте обработчик для внешнего прерывания:

```c
void EXTI0_1_IRQHandler(void)
{
    //
}
```

В данном обработчике добавьте переключение состояние вывода, подключенного к светодиоду. Не забудьте сбросить флаг 
для нулевой линии прерывания с помощью ` LL_EXTI_ClearFlag_0_31(LL_EXTI_LINE_0)`, иначе программа никогда не вернется в основной цикл программы. 

Заметьте, что на кнопке присутствует дребезг и программа работает не всегда корректно.

## Системный таймер

## Энкодер
